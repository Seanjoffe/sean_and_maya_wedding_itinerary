<!doctype html>
<html lang="en">
<head>
  <!-- Structure-only HTML. Styles & JS are external. -->
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="color-scheme" content="light dark" />
  <title>Maya & Sean â€” Wedding Week Itinerary</title>
  <meta name="description" content="Wedding week itinerary â€” mobile-friendly, loads from a local CSV in this repo." />

  <!-- Font perf: preconnect + cursive heading font -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@600;700&display=swap" rel="stylesheet">

  <!-- Root-relative assets so they work at /home and /calendar -->
  <link rel="stylesheet" href="/styles.css?v=17" />
  <script src="/script.js" defer></script>
</head>
<body>
  <!-- ===== Banner with centered countdown (pastel bloom background) ===== -->
  <header class="banner">
    <div class="container inner">
      <div class="countdown-wrap">
        <div class="pill" id="countdown">Loadingâ€¦</div>
      </div>
    </div>
  </header>

  <!-- ===== Site tabs (clean paths; JS intercepts clicks) ===== -->
  <nav class="site-tabs" role="tablist" aria-label="Site sections">
    <a href="/home" data-view="home" class="site-tab" aria-selected="true">Home</a>
    <a href="/calendar" data-view="calendar" class="site-tab" aria-selected="false">Calendar</a>
    <a href="/explore" data-view="explore" class="site-tab" aria-selected="false">Explore</a>
    <a href="/contacts" data-view="contacts" class="site-tab" aria-selected="false">Contacts</a>
  </nav>

  <!-- ===== HOME VIEW ===== -->
  <section id="home" class="view">
    <div class="container">
      <header class="hero">
        <h1 class="hero-title">Maya & Sean's Wedding Week</h1>
        <p class="hero-sub">
          <span id="wdate"></span> Â·
          <a class="venue-link" href="https://maps.app.goo.gl/njqM2sQ83jtwhUE38" target="_blank" rel="noreferrer noopener">
            Villa Nona, Caesarea
          </a>
        </p>
      </header>

      <!-- Couple photo -->
      <figure class="hero-photo">
        <img
          src="/assets/landing_page_staring_at_each_other.jpeg"
          alt="Sean and Maya"
          width="1600" height="1067"
          fetchpriority="high"
          decoding="async"
        />
      </figure>

      <div id="welcomeText" class="welcome-text">
        <p><strong>Welcome, dear family and friends, to our wedding week!</strong></p>
        <p>We feel so grateful to have you here to share such a momentous occasion with us. Thank you, truly, for making the journey to celebrate together.</p>
        <p>Beyond the big day itself, what means the most to us is spending as much time with you as possible. To make things easy, weâ€™ve shared our full itinerary so youâ€™ll always know what weâ€™re up to. Youâ€™re welcome to join in as much or as little as you like! Just let us know in advance so we can plan accordingly. If you canâ€™t reach us directly, please connect with one of the primary contacts listed in the contacts table.</p>
        <p>Donâ€™t forget to check out the Explore tab for some of our favorite cafÃ©s, restaurants, and bars here in Tel Aviv.</p>
        <p>P.S. Weâ€™re notoriously bad at remembering to take enough photosâ€¦so please help us capture the memories! Upload your shots throughout the week to our shared album: <a href="https://photos.app.goo.gl/TRPLqtHFmYZRNyb96" target="_blank" rel="noreferrer noopener">Google Photos Link</a>.</p>
      </div>

    </div>
  </section>

  <!-- ===== CALENDAR VIEW (all days stacked in one scroll) ===== -->
  <section id="calendar" class="view hidden" aria-live="polite" aria-busy="true">
    <div class="container">
      <h2 class="section-title">Itinerary</h2>
      <p class="muted">Scroll through each day. Tap to open maps or save to your calendar.</p>

      <!-- All days render here -->
      <div id="calendarDays"></div>

      <div id="error" class="error" style="display:none"></div>
    </div>
  </section>

  <!-- ===== EXPLORE VIEW (recommendations) ===== -->
  <section id="explore" class="view hidden" aria-live="polite" aria-busy="true">
    <div class="container">
      <h2 class="section-title">Explore</h2>
      <p class="muted">Our favorite restaurants, bars, and cafÃ©s. Filter, search, and open maps.</p>

      <!-- Controls -->
      <div class="grid" style="margin-top:8px">
        <div role="search" class="row" style="gap:10px">
          <input id="exploreSearch" type="search" placeholder="Search by name or address" aria-label="Search places"
                 style="padding:10px 12px; border-radius:12px; border:1px solid rgba(15,23,42,.15); width:100%; background:var(--surface); color:var(--text);" />
          <div class="btns" style="margin:0">
            <button id="exploreSortAZ" class="btn" type="button" aria-pressed="false">Sort Aâ€“Z</button>
            <button id="exploreClear" class="btn" type="button">Clear filters</button>
          </div>
        </div>

        <!-- Chips (Categories & Subcategories) -->
        <div>
          <p class="muted" style="margin:0 0 6px">Categories</p>
          <div id="chipCategories" class="chips" style="display:flex; flex-wrap:wrap; gap:8px;"></div>
        </div>
        <div>
          <p class="muted" style="margin:0 0 6px">Subcategories</p>
          <div id="chipSubcategories" class="chips" style="display:flex; flex-wrap:wrap; gap:8px;"></div>
        </div>
      </div>

      <!-- Result count -->
      <p class="muted" style="margin:12px 0 0"><span id="exploreCount">0 places</span></p>

      <!-- Results grid -->
      <div id="exploreGrid" class="grid" style="margin-top:10px"></div>

      <div id="exploreError" class="error" style="display:none"></div>
    </div>
  </section>

  <!-- ===== CONTACTS VIEW ===== -->
  <section id="contacts" class="view hidden" aria-live="polite" aria-busy="true">
    <div class="container">
      <h2 class="section-title">Contacts</h2>
      <p class="muted">Important people and emergency info for the week.</p>

      <!-- Important contacts (desktop table; mobile compact via CSS) -->
      <div class="card" style="padding:0">
        <table id="contactsTable" aria-describedby="contactsHelp" style="width:100%; border-collapse:collapse">
          <thead>
            <tr>
              <th scope="col" style="text-align:left; padding:12px">Name</th>
              <th scope="col" style="text-align:left; padding:12px">Phone</th>
              <th scope="col" style="text-align:left; padding:12px">Notes</th>
              <th scope="col" style="text-align:left; padding:12px">Actions</th>
            </tr>
          </thead>
          <tbody><!-- populated by script.js --></tbody>
        </table>
        <p id="contactsHelp" class="visually-hidden">Tap Call or WhatsApp to contact.</p>
      </div>

      <!-- Emergency numbers (from CSV Category=Emergency) -->
      <div class="day-group" style="margin-top:18px">
        <h3 class="day-heading">Emergency Numbers</h3>
        <ul id="emergencyList">
          <!-- populated by script.js -->
        </ul>
      </div>

      <!-- Siren guidance -->
      <div class="day-group" style="margin-top:18px">
        <h3 class="day-heading">In Case a Siren Sounds</h3>
        <div class="card">
          <div id="sirenBlock" class="muted">
            <p>Sirens are very uncommon these days, and when they do happen itâ€™s usually rockets fired from Yemen, and these are very likely to be intercepted before reaching Israel. Still, just in case, hereâ€™s what to do:</p>
            <p><strong>Safest Places (in order of preference):</strong></p>
            <ul>
              <li>Your Mamad (protected room at home) â€” reinforced and safest.</li>
              <li>A Mamak (shared building shelter) â€” usually on your buildingâ€™s ground floor.</li>
              <li>A Miklat (dedicated bomb shelter) â€” inside your building or nearby.</li>
              <li>An interior stairwell â€” away from windows and openings.</li>
              <li>An internal room â€” few or no outside walls or windows.</li>
              <li>A public shelter â€” like an opened communal shelter or underground station.</li>
            </ul>
            <p><strong>If youâ€™re outside:</strong> Enter the nearest building. If you canâ€™t, lie down and protect your head.</p>
            <p><strong>If youâ€™re in a car:</strong> Pull over, get out, and move to a safe place. If you canâ€™t, lie down beside the car and cover your head.</p>
            <p>Stay inside for at least 10 minutes, or until officials say itâ€™s safe.</p>

            <h4 class="day-heading" style="margin-top:12px">Stay Connected &amp; Prepared</h4>
            <p>Download these apps for real-time alerts:</p>
            <ul>
              <li><a id="linkHFC" href="#" target="_blank" rel="noreferrer">Home Front Command (official)</a></li>
              <li><a id="linkRedAlert" href="#" target="_blank" rel="noreferrer">Red Alert: Israel (fast notifications)</a></li>
            </ul>
            <p>Check this map to find your closest shelter in Tel Aviv:<br>
              <a id="linkShelterMap" href="#" target="_blank" rel="noreferrer">Interactive Tel Aviv Shelter Map</a>
            </p>
          </div>
        </div>

        <div id="contactsError" class="error" style="display:none"></div>
      </div>
    </div>
  </section>

  <footer class="site-footer">
    Built with ðŸ’œ from Maya & Sean.
  </footer>
</body>
</html>
